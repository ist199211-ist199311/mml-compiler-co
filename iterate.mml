// TP test program; custom-made - i.e., NOT made available by the teachers

begin
    auto f = ([int] vec, int size) -> void {
        auto c = () -> int { "this should only run once"!! return 2; };
        auto square = (int el) -> void { el * el!! };

        iterate vec for c() using square if size > 2;
    };

    auto v = [5];
    v[0] = 1;
    v[1] = 2;
    v[2] = 3;
    v[3] = 4;
    v[4] = 5;

    f(v + 1, 3);
end
